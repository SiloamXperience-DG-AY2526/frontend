openapi: 3.0.3
info:
  title: Volunteer & Donor Management API
  version: 1.0.0
  description: API contract for Volunteers, Donors, Staff, Finance, and Admin operations.

servers:
  - url: http://localhost:3000/api/v1

paths:
  # Volunteer APIs (Sample APIs - Update accordingly)
  /volunteers:
    post:
      summary: Create Volunteer Profile
      tags: [Volunteer]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Volunteer'
      responses:
        '201':
          description: Volunteer profile successfully created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
    patch:
      summary: Update Volunteer Profile
      tags: [Volunteer]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Volunteer'
      responses:
        '200':
          description: Volunteer profile updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /volunteers/{id}/documents:
    post:
      summary: Submit Volunteer Document
      tags: [Volunteer]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VolunteerDocument'
      responses:
        '201':
          description: Document submitted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VolunteerDocumentResponse'

  /volunteers/{id}/registration:
    post:
      summary: Submit Volunteer Registration Form
      tags: [Volunteer]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Volunteer'
      responses:
        '201':
          description: Registration successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /projects/{project_id}/rsvp:
    post:
      summary: RSVP for Project
      tags: [Volunteer]
      parameters:
        - name: project_id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RSVP'
      responses:
        '201':
          description: RSVP submitted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  # Donor APIs (Sample APIs - Update accordingly)
  /donors:
    get:
      summary: Query Donor Information
      tags: [Donor]
      parameters:
        - name: search
          in: query
          description: Search term for donor name, email, or other fields
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Donor data retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Donor'
    post:
      summary: Create Donor Profile
      tags: [Donor]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Donor'
      responses:
        '201':
          description: Donor profile created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
    patch:
      summary: Update Donor Profile
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Donor'
      responses:
        '200':
          description: Donor profile updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /donors/{id}/payment-options:
    post:
      summary: Save One-Click Payment Option
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                payment_method:
                  type: string
      responses:
        '201':
          description: Payment option saved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /donors/{id}/wishlist:
    post:
      summary: Request More Donation Modes
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                mode:
                  type: string
      responses:
        '201':
          description: Wishlist submitted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  /donors/{id}/reminders:
    post:
      summary: Send Reminder
      tags: [Donor]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Reminder sent
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'

  # Finance APIs
  /finance/budgets:
    get:
      summary: Get Financial Overview
      tags: [Finance]
      description: Retrieve financial overview with fiscal year, committed, and disbursed amounts
      responses:
        '200':
          description: Financial overview retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FinancialOverview'
        '500':
          description: Server error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/budgets:
    get:
      summary: Get Project Budget Summaries
      tags: [Finance]
      description: Retrieve budget summaries for a specific project
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      responses:
        '200':
          description: Budget summaries retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BudgetSummaries'
        '404':
          description: Budget data not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/transactions:
    get:
      summary: Get Project Transactions
      tags: [Finance]
      description: Retrieve all transactions for a specific project
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      responses:
        '200':
          description: Transactions retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transaction'
        '404':
          description: Transaction data not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/commitment:
    post:
      summary: Create Commitment
      tags: [Finance]
      description: Create a new financial commitment for a project
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCommitment'
      responses:
        '201':
          description: Commitment created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    $ref: '#/components/schemas/Commitment'
                  message:
                    type: string
                    example: Commitment created successfully
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/commitment/{id}:
    patch:
      summary: Update Commitment Status
      tags: [Finance]
      description: Update the status of an existing commitment
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Commitment ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
      responses:
        '204':
          description: Commitment status updated successfully
        '404':
          description: Commitment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      summary: Delete Commitment
      tags: [Finance]
      description: Delete an existing commitment
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Commitment ID
      responses:
        '204':
          description: Commitment deleted successfully
        '404':
          description: Commitment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/disbursement:
    post:
      summary: Create Disbursement
      tags: [Finance]
      description: Create a new financial disbursement for a project
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDisbursement'
      responses:
        '201':
          description: Disbursement created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: success
                  data:
                    $ref: '#/components/schemas/Disbursement'
                  message:
                    type: string
                    example: Disbursement created successfully
        '400':
          description: Invalid request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /finance/projects/{projectId}/disbursement/{id}:
    patch:
      summary: Update Disbursement Status
      tags: [Finance]
      description: Update the status of an existing disbursement
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Disbursement ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
      responses:
        '204':
          description: Disbursement status updated successfully
        '404':
          description: Disbursement not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      summary: Delete Disbursement
      tags: [Finance]
      description: Delete an existing disbursement
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Project ID
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Disbursement ID
      responses:
        '204':
          description: Disbursement deleted successfully
        '404':
          description: Disbursement not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # Volunteer Manager APIs (Sample APIs - Update accordingly)
  /volunteers/pending:
    get:
      summary: View Pending Volunteers
      tags: [VolunteerManager]
      responses:
        '200':
          description: Pending volunteers list

  /volunteers/{id}/approve:
    patch:
      summary: Approve Volunteer
      tags: [VolunteerManager]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Volunteer approved

  # Super Admin APIs (Sample APIs - Update accordingly)
  /admin/users:
    post:
      summary: Create Admin User
      tags: [SuperAdmin]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '201':
          description: Admin user created

  /admin/users/{id}:
    delete:
      summary: Delete Admin User
      tags: [SuperAdmin]
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Admin user deleted

  /admin/logs:
    get:
      summary: Get Admin Logs
      tags: [SuperAdmin]
      responses:
        '200':
          description: Logs retrieved

  # Donation APIs
  /donations:
    post:
      summary: Submit Donation Application
      description: Submit a donation application to receive payment instructions
      tags: [Donation]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubmitDonationApplication'
      responses:
        '201':
          description: Donation application submitted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Donation application submitted successfully'
                  donation:
                    $ref: '#/components/schemas/DonationApplication'
        '401':
          description: Unauthorized - Partner not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /donations/home:
    get:
      summary: Get Donation Homepage Data
      description: Retrieve donation homepage data including featured projects and statistics
      tags: [Donation]
      responses:
        '200':
          description: Donation homepage data retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationHomepage'

  /donations/me:
    get:
      summary: Get My Donation History
      description: Get donation history for the authenticated partner with optional filters
      tags: [Donation]
      security:
        - bearerAuth: []
      parameters:
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum: [pending, completed, cancelled, all]
            default: all
          description: Filter donations by status
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Number of items per page
      responses:
        '200':
          description: Donation history retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationHistoryResponse'
        '401':
          description: Unauthorized - Partner not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /donations/me/{donationId}:
    get:
      summary: Get Donation Detail
      description: Get details of a specific donation for the authenticated partner
      tags: [Donation]
      security:
        - bearerAuth: []
      parameters:
        - name: donationId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Donation ID
      responses:
        '200':
          description: Donation detail retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationDetail'
        '401':
          description: Unauthorized - Partner not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Donation not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /donations/me/{donationId}/receipt:
    get:
      summary: Download Donation Receipt
      description: Download receipt for a specific donation of the authenticated partner
      tags: [Donation]
      security:
        - bearerAuth: []
      parameters:
        - name: donationId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Donation ID
      responses:
        '200':
          description: Donation receipt
          content:
            application/pdf:
              schema:
                type: string
                format: binary
        '401':
          description: Unauthorized - Partner not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Donation not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # Donation Project APIs
  /donation-projects:
    get:
      summary: Get All Donation Projects
      description: Get all donation projects with optional filters
      tags: [DonationProject]
      parameters:
        - name: type
          in: query
          required: false
          schema:
            type: string
            enum: [ongoing, specific, all]
            default: all
          description: Filter projects by type
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Page number for pagination
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 20
          description: Number of items per page
      responses:
        '200':
          description: Donation projects retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationProjectsResponse'

    post:
      summary: Create Donation Project
      description: Create a new donation project (requires donation-project:create permission)
      tags: [DonationProject]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDonationProject'
      responses:
        '201':
          description: Donation project created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationProject'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /donation-projects/me:
    get:
      summary: Get My Donation Projects
      description: Get all donation projects managed by the authenticated user
      tags: [DonationProject]
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Donation projects retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DonationProject'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /donation-projects/me/{projectId}:
    get:
      summary: Get Donation Project Details
      description: Get details of a specific donation project managed by the authenticated user
      tags: [DonationProject]
      security:
        - bearerAuth: []
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Donation project ID
      responses:
        '200':
          description: Donation project details retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationProject'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Donation project not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    patch:
      summary: Update Donation Project
      description: Update a specific donation project managed by the authenticated user
      tags: [DonationProject]
      security:
        - bearerAuth: []
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Donation project ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDonationProject'
      responses:
        '200':
          description: Donation project updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DonationProject'
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '403':
          description: Forbidden - Insufficient permissions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '404':
          description: Donation project not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

# Components (Schemas) (Sample - Update accordingly)
components:
  schemas:
    Volunteer:
      type: object
      properties:
        id: { type: string }
        full_name: { type: string }
        nric_fin: { type: string }
        passport_number: { type: string }
        contact_number: { type: string }
        occupation: { type: string }
        languages_spoken:
          type: array
          items: { type: string }
        highest_education: { type: string }
        volunteering_duration:
          { type: string, enum: [ad_hoc, long_term, short_term] }
        email: { type: string }
        address: { type: string }
        nationality: { type: string }
        gender: { type: string, enum: [male, female, other] }
        dob: { type: string, format: date }
        volunteer_interest:
          type: array
          items: { type: string }
        volunteer_expertise:
          type: object
          properties:
            is_first_time: { type: boolean }
            past_experience:
              type: array
              items: { type: string, enum: [elderly, family, children, pwids] }
            years: { type: integer, minimum: 0, maximum: 50 }
            strengths:
              type: array
              items: { type: string }
            weaknesses:
              type: array
              items: { type: string }
        availability:
          type: object
          properties:
            days:
              type: array
              items:
                {
                  type: string,
                  enum:
                    [
                      monday,
                      tuesday,
                      wednesday,
                      thursday,
                      friday,
                      saturday,
                      sunday,
                    ],
                }
            timings:
              type: array
              items: { type: string }
            specific_dates:
              type: array
              items: { type: string, format: date }
        lifetime_hours_volunteered: { type: integer }
        projects_of_interest:
          type: array
          items: { type: string }

    Donor:
      type: object
      properties:
        id: { type: string }
        full_name: { type: string }
        nric_fin: { type: string }
        email: { type: string }
        contact_number: { type: string }
        address: { type: string }
        donation_amount: { type: number }
        preferred_cause: { type: string }
        donation_type: { type: string, enum: [one_time, recurring] }
        payment_method: { type: string }
        is_tax_deductable: { type: boolean }

    VolunteerDocument:
      type: object
      properties:
        id: { type: string }
        document_type: { type: string }
        file_url: { type: string }

    VolunteerDocumentResponse:
      type: object
      properties:
        id: { type: string }
        status: { type: string, enum: [pending, approved, rejected] }

    RSVP:
      type: object
      properties:
        volunteer_id: { type: string }
        status: { type: string, enum: [yes, no, maybe] }

    Donation:
      type: object
      properties:
        donor_id: { type: string }
        amount: { type: number }
        type:
          { type: string, enum: [individual, corporate, fundraising events] }
        payment_method: { type: string }
        project_id: { type: string }
        date: { type: string }

    DonationResponse:
      type: object
      properties:
        id: { type: string }
        status: { type: string, enum: [confirmed, pending, failed] }
        receipt_url: { type: string }

    Attendance:
      type: object
      properties:
        volunteer_id: { type: string }
        project_id: { type: string }
        status: { type: string, enum: [present, absent] }
        date: { type: string, format: date }

    SuccessResponse:
      type: object
      properties:
        id: { type: string }
        message: { type: string }

    ErrorResponse:
      type: object
      properties:
        error_code: { type: string }
        message: { type: string }
        details: { type: string }

    FinancialOverview:
      type: object
      properties:
        fiscalYear:
          type: integer
          example: 2025
        committed:
          type: number
          format: double
          example: 150000.00
        disbursed:
          type: number
          format: double
          example: 75000.00

    BudgetSummaries:
      type: object
      properties:
        projectId:
          type: string
          format: uuid
        fiscalYear:
          type: integer
        totalCommitted:
          type: number
          format: double
        totalDisbursed:
          type: number
          format: double

    Transaction:
      type: object
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        amount:
          type: number
          format: double
        description:
          type: string
        fiscalYear:
          type: integer
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
        type:
          type: string
          enum: [COMMITMENT, DISBURSEMENT]
        createdAt:
          type: string
          format: date-time
        createdById:
          type: string
          format: uuid

    CreateCommitment:
      type: object
      required:
        - amount
        - fiscalYear
        - status
        - createdById
      properties:
        amount:
          type: number
          format: double
          minimum: 0.01
          example: 50000.00
        description:
          type: string
          example: 'Q1 budget allocation for community outreach'
        fiscalYear:
          type: integer
          minimum: 1900
          example: 2025
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
          example: DRAFT
        createdById:
          type: string
          format: uuid
          example: '123e4567-e89b-12d3-a456-426614174000'
        approvedById:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time

    Commitment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        amount:
          type: number
          format: double
        description:
          type: string
        fiscalYear:
          type: integer
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
        createdById:
          type: string
          format: uuid
        approvedById:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    CreateDisbursement:
      type: object
      required:
        - amount
        - fiscalYear
        - status
        - createdById
      properties:
        amount:
          type: number
          format: double
          minimum: 0.01
          example: 25000.00
        description:
          type: string
          example: 'Payment for facility rental'
        fiscalYear:
          type: integer
          minimum: 1900
          example: 2025
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
          example: DRAFT
        createdById:
          type: string
          format: uuid
          example: '123e4567-e89b-12d3-a456-426614174000'
        approvedById:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time
        disbursedAt:
          type: string
          format: date-time

    Disbursement:
      type: object
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        amount:
          type: number
          format: double
        description:
          type: string
        fiscalYear:
          type: integer
        status:
          type: string
          enum: [DRAFT, PENDING, APPROVAL, RELEASED, REJECTED]
        createdById:
          type: string
          format: uuid
        approvedById:
          type: string
          format: uuid
        approvedAt:
          type: string
          format: date-time
        disbursedAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    # Donation Schemas
    SubmitDonationApplication:
      type: object
      required:
        - projectId
        - type
        - countryOfResidence
        - paymentMode
        - amount
      properties:
        projectId:
          type: string
          format: uuid
          description: ID of the donation project
        type:
          type: string
          enum: [INDIVIDUAL, CORPORATE, FUNDRAISING_EVENTS]
          description: Type of donation
        countryOfResidence:
          type: string
          description: Country of residence of the donor
        paymentMode:
          type: string
          description: Payment mode for the donation
        amount:
          type: number
          format: double
          minimum: 0.01
          description: Donation amount
        brickCount:
          type: integer
          minimum: 1
          description: Number of bricks for brick-by-brick donations (optional)

    DonationApplication:
      type: object
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        partnerId:
          type: string
          format: uuid
        type:
          type: string
          enum: [INDIVIDUAL, CORPORATE, FUNDRAISING_EVENTS]
        countryOfResidence:
          type: string
        paymentMode:
          type: string
        amount:
          type: number
          format: double
        brickCount:
          type: integer
        status:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    DonationHomepage:
      type: object
      properties:
        featuredProjects:
          type: array
          items:
            $ref: '#/components/schemas/DonationProject'
        statistics:
          type: object
          properties:
            totalDonations:
              type: number
              format: double
            totalProjects:
              type: integer
            totalDonors:
              type: integer

    DonationHistoryResponse:
      type: object
      properties:
        donations:
          type: array
          items:
            $ref: '#/components/schemas/DonationApplication'
        pagination:
          type: object
          properties:
            page:
              type: integer
            limit:
              type: integer
            total:
              type: integer
            totalPages:
              type: integer

    DonationDetail:
      type: object
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        project:
          $ref: '#/components/schemas/DonationProject'
        partnerId:
          type: string
          format: uuid
        type:
          type: string
          enum: [INDIVIDUAL, CORPORATE, FUNDRAISING_EVENTS]
        countryOfResidence:
          type: string
        paymentMode:
          type: string
        amount:
          type: number
          format: double
        brickCount:
          type: integer
        status:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    # Donation Project Schemas
    CreateDonationProject:
      type: object
      required:
        - title
        - location
        - about
        - objectives
        - deadline
        - type
        - startDate
        - endDate
      properties:
        title:
          type: string
          minLength: 1
          description: Project title
        location:
          type: string
          minLength: 1
          description: Project location
        about:
          type: string
          minLength: 1
          description: Project description
        objectives:
          type: string
          minLength: 1
          description: Project objectives
        beneficiaries:
          type: string
          nullable: true
          description: Project beneficiaries
        initiatorName:
          type: string
          nullable: true
          description: Name of project initiator
        organisingTeam:
          type: string
          nullable: true
          description: Organising team details
        targetFund:
          type: number
          format: double
          minimum: 0.01
          nullable: true
          description: Target fund amount
        brickSize:
          type: number
          format: double
          minimum: 0.01
          nullable: true
          description: Brick size for brick-by-brick donations
        deadline:
          type: string
          format: date-time
          description: Project deadline
        type:
          type: string
          enum: [ONGOING, SPECIFIC]
          description: Project type
        startDate:
          type: string
          format: date-time
          description: Project start date
        endDate:
          type: string
          format: date-time
          description: Project end date
        image:
          type: string
          format: uri
          nullable: true
          description: Project image URL
        attachments:
          type: string
          nullable: true
          description: Project attachments
        objectivesList:
          type: array
          description: List of objectives with order
          items:
            type: object
            required:
              - objective
              - order
            properties:
              objective:
                type: string
                minLength: 1
              order:
                type: integer
                minimum: 1

    UpdateDonationProject:
      type: object
      properties:
        title:
          type: string
          minLength: 1
        location:
          type: string
          minLength: 1
        about:
          type: string
        objectives:
          type: string
        beneficiaries:
          type: string
          nullable: true
        initiatorName:
          type: string
          nullable: true
        organisingTeam:
          type: string
          nullable: true
        targetFund:
          type: number
          format: double
          minimum: 0.01
          nullable: true
        brickSize:
          type: number
          format: double
          minimum: 0.01
          nullable: true
        deadline:
          type: string
          format: date-time
        type:
          type: string
          enum: [ONGOING, SPECIFIC]
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        submissionStatus:
          type: string
          enum: [DRAFT, SUBMITTED, APPROVED, REJECTED]
        approvalStatus:
          type: string
          enum: [PENDING, APPROVED, REJECTED]
        approvalNotes:
          type: string
          nullable: true
        image:
          type: string
          format: uri
          nullable: true
        attachments:
          type: string
          nullable: true

    DonationProject:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
        location:
          type: string
        about:
          type: string
        objectives:
          type: string
        beneficiaries:
          type: string
          nullable: true
        initiatorName:
          type: string
          nullable: true
        organisingTeam:
          type: string
          nullable: true
        targetFund:
          type: number
          format: double
          nullable: true
        currentFund:
          type: number
          format: double
        brickSize:
          type: number
          format: double
          nullable: true
        deadline:
          type: string
          format: date-time
        type:
          type: string
          enum: [ONGOING, SPECIFIC]
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        submissionStatus:
          type: string
          enum: [DRAFT, SUBMITTED, APPROVED, REJECTED]
        approvalStatus:
          type: string
          enum: [PENDING, APPROVED, REJECTED]
        approvalNotes:
          type: string
          nullable: true
        image:
          type: string
          format: uri
          nullable: true
        attachments:
          type: string
          nullable: true
        managerId:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    DonationProjectsResponse:
      type: object
      properties:
        projects:
          type: array
          items:
            $ref: '#/components/schemas/DonationProject'
        pagination:
          type: object
          properties:
            page:
              type: integer
            limit:
              type: integer
            total:
              type: integer
            totalPages:
              type: integer

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
